{"version":3,"sources":["webpack:///./src/views/Reports/StudentLeavesReport.vue?9a60","webpack:///src/views/Reports/StudentLeavesReport.vue","webpack:///./src/views/Reports/StudentLeavesReport.vue?e5bf","webpack:///./src/views/Reports/StudentLeavesReport.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","student_leaves","scopedSlots","_u","key","fn","ref","data","_l","tr","indextr","_t","_v","_s","student_term","student","name","_e","teacher","class","type","$ml","get","date","notes","slot","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0c94cf.b59820d2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col w-full\"},[_c('div',{staticClass:\"vx-row  text-right\"},[_c('div',{staticClass:\"vx-col w-full mb-base btn-group d-print-none\",attrs:{\"dir\":\"ltr\"}},[_c('vs-button',{attrs:{\"color\":\"warning\",\"onclick\":\"window.print()\"}},[_c('i',{staticClass:\"fa fa-print\"})])],1)])])]),_c('div',{staticClass:\"container-fluid mt--7\"},[_c('div',{staticClass:\"row \"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card shadow border-0\"},[_c('div',{staticClass:\"map-canvas\",staticStyle:{\"min-height\":\"600px\"}},[_c('div',{staticClass:\"table-responsive\"},[_c('vs-table',{attrs:{\"stripe\":\"\",\"data\":_vm.student_leaves},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nreturn _vm._l((data),function(tr,indextr){return _c('vs-tr',{key:indextr},[_c('vs-td',{staticClass:\"text-right\"},[(tr.student_term)?_vm._t(\"default\",[_vm._v(\"\\n                          \"+_vm._s(tr.student_term.student.name)+\"\\n                        \")]):_vm._e()],2),_c('vs-td',{staticClass:\"text-right\"},[(tr.teacher)?_vm._t(\"default\",[_vm._v(\"\\n                          \"+_vm._s(tr.teacher.name)+\"\\n                        \")]):_vm._e()],2),_c('vs-td',{staticClass:\"text-right\"},[_c('div',{staticClass:\"con-vs-chip ml-auto  con-color\",class:tr.type == 'vacation' ? 'vs-chip-success':'vs-chip-danger',staticStyle:{\"color\":\"rgba(255, 255, 255, 0.9)\"}},[_c('span',{staticClass:\"text-chip vs-chip--text\"},[_vm._v(_vm._s(_vm.$ml.get(tr.type)))])])]),_c('vs-td',{staticClass:\"text-right\"},[_vm._v(\"\\n                        \"+_vm._s(tr.date)+\"\\n                      \")]),_c('vs-td',{staticClass:\"text-right\"},[_vm._v(\"\\n                        \"+_vm._s(tr.notes)+\"\\n                      \")])],1)})}}],null,true)},[_c('template',{slot:\"header\"},[_c('h3')]),_c('template',{slot:\"thead\"},[_c('vs-th',{attrs:{\"width\":\"220px\"}},[_vm._v(\"\\n                      \"+_vm._s(_vm.$ml.get('students'))+\"\\n                    \")]),_c('vs-th',[_vm._v(_vm._s(_vm.$ml.get('teachers')))]),_c('vs-th',[_vm._v(_vm._s(_vm.$ml.get('type')))]),_c('vs-th',[_vm._v(_vm._s(_vm.$ml.get('date')))]),_c('vs-th',[_vm._v(_vm._s(_vm.$ml.get('notes')))])],1)],2)],1)])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"vx-row\">\n      <div class=\"vx-col w-full\">\n        <div class=\"vx-row  text-right\">\n          <div class=\"vx-col w-full mb-base btn-group d-print-none\" dir=\"ltr\">\n<!--            <vs-button @click=\"getAllStudnetLeaves()\">-->\n<!--              <i class=\"fa fa-search\"></i>-->\n<!--            </vs-button>-->\n            <vs-button color=\"warning\" onclick=\"window.print()\">\n              <i class=\"fa fa-print\"></i>\n            </vs-button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"container-fluid mt--7\">\n      <div class=\"row \">\n        <div class=\"col\">\n          <div class=\"card shadow border-0\">\n            <div class=\"map-canvas\"\n                 style=\"min-height: 600px;\">\n              <div class=\"table-responsive\">\n                <vs-table stripe :data=\"student_leaves\">\n                  <template slot=\"header\">\n                    <h3>\n\n                    </h3>\n                  </template>\n                  <template slot=\"thead\">\n                    <vs-th width=\"220px\">\n                      {{$ml.get('students')}}\n                    </vs-th>\n                    <vs-th>{{$ml.get('teachers')}}</vs-th>\n                    <vs-th>{{$ml.get('type')}}</vs-th>\n                    <vs-th>{{$ml.get('date')}}</vs-th>\n                    <vs-th>{{$ml.get('notes')}}</vs-th>\n                  </template>\n\n                  <template slot-scope=\"{data}\">\n                    <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\n                      <vs-td class=\"text-right\">\n                        <slot v-if=\"tr.student_term\">\n                          {{tr.student_term.student.name}}\n                        </slot>\n                      </vs-td>\n                      <vs-td class=\"text-right\">\n                        <slot v-if=\"tr.teacher\">\n                          {{tr.teacher.name}}\n                        </slot>\n                      </vs-td>\n                      <vs-td class=\"text-right\">\n                        <div class=\"con-vs-chip ml-auto  con-color\"\n                             :class=\"tr.type == 'vacation' ? 'vs-chip-success':'vs-chip-danger'\"\n                             style=\"color: rgba(255, 255, 255, 0.9);\">\n                          <span class=\"text-chip vs-chip--text\">{{$ml.get(tr.type)}}</span>\n                        </div>\n                      </vs-td>\n                      <vs-td class=\"text-right\">\n                        {{tr.date}}\n                      </vs-td>\n                      <vs-td class=\"text-right\">\n                        {{tr.notes}}\n                      </vs-td>\n                    </vs-tr>\n                  </template>\n                </vs-table>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\n  import flatPickr from 'vue-flatpickr-component';\n  import 'flatpickr/dist/flatpickr.css';\n\n  export default {\n    components: {\n      flatPickr\n    },\n    data() {\n      return {\n        status: [],\n        student_leaves: [],\n        selected: [],\n        itemsPerPage: 5,\n        isMounted: false,\n        filterModel: {}\n      }\n    },\n    mounted() {\n      this.isMounted = true;\n      this.getAllStatus()\n      this.getAllStudnetLeaves()\n    },\n    computed: {\n      currentPage() {\n        if (this.isMounted) {\n          return this.$refs.table.currentx\n        }\n        return 0\n      },\n    },\n    methods: {\n      hasAccessPermission(permission) {\n        return window.helper.hasAccessPermission(permission);\n      },\n      getAllStatus() {\n        let vm = this;\n        vm.$root.$children[0].$refs.loader.show_loader = true;\n        try {\n          window.serviceAPI.API().get(window.serviceAPI.ALL_STATUS)\n            .then((response) => {\n              vm.$root.$children[0].$refs.loader.show_loader = false;\n              response = response.data;\n              console.log(response)\n              if (response.status) {\n                vm.status = response.data.status.teacher_leave;\n                return\n              }\n              vm.status = [];\n            }).catch((error) => {\n            vm.$root.$children[0].$refs.loader.show_loader = false;\n            window.helper.handleError(error, vm);\n            vm.status = [];\n          });\n        } catch (e) {\n          console.log(e)\n        }\n      },\n      getStatusClass(status) {\n        if (status == 'accepted') {\n\n          return 'vs-chip-success';\n        } else if (status == 'rejected') {\n\n          return 'vs-chip-danger';\n        } else {\n\n          return 'vs-chip-warning';\n        }\n      },\n      getAllStudnetLeaves() {\n        let vm = this;\n        vm.$root.$children[0].$refs.loader.show_loader = true;\n        try {\n          window.serviceAPI.API().get(window.serviceAPI.ALL_STUDENT_LEAVES)\n            .then((response) => {\n              vm.$root.$children[0].$refs.loader.show_loader = false;\n              response = response.data;\n              if (response.status) {\n                vm.student_leaves = response.data.studentLeaves.data;\n                _.transform(response.data.studentLeaves.data, function (result, value, key) {\n                  // console.log(result, value, key);\n                  value.teacher_name = value.teacher ? value.teacher.name : '';\n                  value.student_name = value.student_term ? value.student_term.student.name : '';\n                  result[key] = value;\n                }, {});\n                return\n              }\n              vm.student_leaves = [];\n            }).catch((error) => {\n            vm.$root.$children[0].$refs.loader.show_loader = false;\n            window.helper.handleError(error, vm);\n            vm.student_leaves = [];\n          });\n        } catch (e) {\n          console.log(e)\n        }\n      },\n      deleteSelected() {\n        this.$vs.dialog({\n          type: 'confirm',\n          color: 'danger',\n          title: this.$ml.get('confirm'),\n          text: this.$ml.get('are_sure'),\n          acceptText: this.$ml.get('yes'),\n          cancelText: this.$ml.get('no'),\n          accept: this.acceptAlert\n        })\n      },\n      acceptAlert() {\n        let vm = this;\n        let ids = vm.selected;\n        vm.$root.$children[0].$refs.loader.show_loader = true;\n        ids = _.map(ids, 'id');\n        console.log(ids)\n        try {\n          window.serviceAPI.API().post(window.serviceAPI.DELETE_STUDENT_LEAVES, {\n            ids: ids\n          })\n            .then((response) => {\n              vm.$root.$children[0].$refs.loader.show_loader = false;\n              response = response.data;\n              if (response.status) {\n                vm.student_leaves = window.helper.deleteMulti(ids, vm.student_leaves)\n                location.reload()\n              }\n            }).catch((error) => {\n            vm.$root.$children[0].$refs.loader.show_loader = false;\n            window.helper.handleError(error, vm);\n          });\n        } catch (e) {\n          console.log(e)\n        }\n      },\n      deleteSingle(id) {\n        let vm = this;\n        this.$vs.dialog({\n          type: 'confirm',\n          color: 'danger',\n          title: this.$ml.get('confirm'),\n          text: this.$ml.get('are_sure'),\n          acceptText: this.$ml.get('yes'),\n          cancelText: this.$ml.get('no'),\n          accept: () => {\n            vm.$root.$children[0].$refs.loader.show_loader = true;\n            try {\n              window.serviceAPI.API().post(window.serviceAPI.DELETE_STUDENT_LEAVES, {\n                ids: [id]\n              })\n                .then((response) => {\n                  vm.$root.$children[0].$refs.loader.show_loader = false;\n                  response = response.data;\n                  if (response.status) {\n                    vm.student_leaves = window.helper.deleteMulti([id], vm.student_leaves)\n                    location.reload()\n                  }\n                }).catch((error) => {\n                vm.$root.$children[0].$refs.loader.show_loader = false;\n                window.helper.handleError(error, vm);\n              });\n            } catch (e) {\n              console.log(e)\n            }\n          }\n        })\n      },\n    },\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentLeavesReport.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentLeavesReport.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StudentLeavesReport.vue?vue&type=template&id=cbee6a0e&scoped=true&\"\nimport script from \"./StudentLeavesReport.vue?vue&type=script&lang=js&\"\nexport * from \"./StudentLeavesReport.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cbee6a0e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}