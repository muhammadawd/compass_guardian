(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216820"],{c382:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"vx-row"},[s("div",{staticClass:"vx-col w-full"},[s("div",{staticClass:"vx-row  text-right"},[s("div",{staticClass:"vx-col md:w-1/4 mb-base"},[s("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$ml.get("stages")))]),s("multiselect",{attrs:{options:t.stages,multiple:!1,"close-on-select":!0,"open-direction":"bottom","clear-on-select":!1,"preserve-search":!0,placeholder:t.$ml.get("search"),"custom-label":t.customStageLabel,"track-by":"id","preselect-first":!0},model:{value:t.selectedStage,callback:function(e){t.selectedStage=e},expression:"selectedStage"}}),s("span",{staticClass:"span-text-validation text-danger text-bold",attrs:{id:"stage_id_error"}})],1),s("div",{staticClass:"vx-col md:w-1/4 mb-base"},[s("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$ml.get("class_room")))]),s("multiselect",{attrs:{options:t.classRooms,multiple:t.isMulti,"open-direction":"bottom","close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:t.$ml.get("search"),"custom-label":t.customStageLabel,"track-by":"id","preselect-first":!0},model:{value:t.selectedClassRooms,callback:function(e){t.selectedClassRooms=e},expression:"selectedClassRooms"}}),s("span",{staticClass:"span-text-validation text-danger text-bold",attrs:{id:"class_room_id_error"}}),s("span",{staticClass:"span-text-validation text-danger text-bold",attrs:{id:"class_room_ids_error"}})],1),s("div",{staticClass:"vx-col md:w-1/4 mb-base hidden"},[s("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$ml.get("students")))]),s("multiselect",{attrs:{options:t.students,"open-direction":"bottom","close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:t.$ml.get("search"),"custom-label":t.customStudentLabel,"track-by":"id","preselect-first":!0},model:{value:t.selectedStudent,callback:function(e){t.selectedStudent=e},expression:"selectedStudent"}}),s("span",{staticClass:"span-text-validation text-danger text-bold",attrs:{id:"student_id_error"}}),s("span",{staticClass:"span-text-validation text-danger text-bold",attrs:{id:"student_term_id_error"}})],1),s("div",{staticClass:"vx-col w-full mb-base btn-group d-print-none",attrs:{dir:"ltr"}},[s("vs-button",{on:{click:function(e){return t.getAllStudentExams()}}},[s("i",{staticClass:"fa fa-search"})]),s("vs-button",{attrs:{color:"warning",onclick:"window.print()"}},[s("i",{staticClass:"fa fa-print"})])],1)])])]),s("div",{staticClass:"container-fluid mt--7"},[s("div",{staticClass:"row "},[s("div",{staticClass:"col"},[s("div",{staticClass:"card shadow border-0"},[s("div",{staticClass:"map-canvas",staticStyle:{"min-height":"600px"}},[s("div",{staticClass:"table-responsive"},[s("vs-table",{attrs:{stripe:"",data:t.student_exams},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,a){return s("vs-tr",{key:a},[s("vs-td",[e.student_term?t._t("default",[t._v("\n                        "+t._s(e.name)+"\n                      ")]):t._e()],2),t._l(t.exams,(function(a,l){return s("vs-td",{key:l},[e.exams[a.id]?t._t("default",[t._v("\n                        "+t._s(e.exams[a.id][0].degree)+"\n                      ")]):t._e(),e.exams[a.id]?t._e():t._t("default",[s("span",{staticClass:"text-danger text-bold"},[t._v(t._s(t.$ml.get("ghen")))])])],2)}))],2)}))}}],null,!0)},[s("template",{slot:"header"},[s("h3")]),s("template",{slot:"thead"},[s("vs-th",{attrs:{width:"220px"}},[t._v("\n                    "+t._s(t.$ml.get("students"))+"\n                  ")]),t._l(t.exams,(function(e,a){return s("vs-th",{key:a},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}))],2)],2)],1)])])])])])])},l=[],o=(s("7f7f"),s("8e5f")),n=s.n(o),d=(s("e607"),{data:function(){return{itemsPerPage:20,isMounted:!1,exams:[],student_exams:[],students:[],selectedStudent:null,stages:[],selectedStage:null,classRooms:[],selectedClassRooms:null,isMulti:!1}},mounted:function(){var t=this;t.getAllStages()},watch:{selectedStage:function(t,e){this.selectedClassRooms=null,this.classRooms=t.class_rooms},selectedClassRooms:function(t,e){this.getAllStudents()}},components:{Multiselect:n.a},computed:{},methods:{customStageLabel:function(t){var e=t.translated;return"".concat(e.title)},customStudentLabel:function(t){var e=t.name;return"".concat(e)},getAllStages:function(){var t=this;t.$root.$children[0].$refs.loader.show_loader=!0;try{window.serviceAPI.API().get(window.serviceAPI.ALL_STAGES).then((function(e){t.$root.$children[0].$refs.loader.show_loader=!1,e=e.data,e.status?t.stages=e.data.stages.data:t.stages=[]})).catch((function(e){t.$root.$children[0].$refs.loader.show_loader=!1,window.helper.handleError(e,t),t.stages=[]}))}catch(e){console.log(e)}},getAllStudents:function(){var t=this;t.$root.$children[0].$refs.loader.show_loader=!0;var e=t.selectedStage?t.selectedStage.id:-1,s=t.selectedClassRooms?t.selectedClassRooms.id:-1;try{window.serviceAPI.API().get(window.serviceAPI.ALL_STUDENTS,{params:{stage_id:e,class_room_id:s}}).then((function(e){t.$root.$children[0].$refs.loader.show_loader=!1,e=e.data,e.status?t.students=e.data.students.data:t.students=[]})).catch((function(e){t.$root.$children[0].$refs.loader.show_loader=!1,window.helper.handleError(e,t),t.students=[]}))}catch(a){console.log(a)}},getAllStudentExams:function(){var t=this;t.$root.$children[0].$refs.loader.show_loader=!0;var e=t.selectedStage?t.selectedStage.id:-1,s=t.selectedClassRooms?t.selectedClassRooms.id:-1,a=t.selectedStudent?t.selectedStudent.student_term.id:-1;try{window.serviceAPI.API().get(window.serviceAPI.ALL_EXAM_REPORT,{params:{stage_id:e,class_room_id:s,student_term_id:a}}).then((function(e){if(t.$root.$children[0].$refs.loader.show_loader=!1,e=e.data,e.status)return t.exams=e.data.exams,void(t.student_exams=e.data.students);t.students=[]})).catch((function(e){t.$root.$children[0].$refs.loader.show_loader=!1,window.helper.handleError(e,t),t.students=[]}))}catch(l){console.log(l)}}}}),r=d,c=s("2877"),i=Object(c["a"])(r,a,l,!1,null,"6b0a8b7d",null);e["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d216820.edcd1fd9.js.map