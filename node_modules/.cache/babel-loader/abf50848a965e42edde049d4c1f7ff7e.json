{"remainingRequest":"/home/muhammadawd/WebstormProjects/Guardian/node_modules/thread-loader/dist/cjs.js!/home/muhammadawd/WebstormProjects/Guardian/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/home/muhammadawd/WebstormProjects/Guardian/node_modules/eslint-loader/index.js??ref--13-0!/home/muhammadawd/WebstormProjects/Guardian/src/bootstrap/helper.js","dependencies":[{"path":"/home/muhammadawd/WebstormProjects/Guardian/src/bootstrap/helper.js","mtime":1581261943178},{"path":"/home/muhammadawd/WebstormProjects/Guardian/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/muhammadawd/WebstormProjects/Guardian/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/muhammadawd/WebstormProjects/Guardian/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/muhammadawd/WebstormProjects/Guardian/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _slicedToArray from \"/home/muhammadawd/WebstormProjects/Guardian/node_modules/@babel/runtime/helpers/builtin/es6/slicedToArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es7.object.entries\";\nimport _typeof from \"/home/muhammadawd/WebstormProjects/Guardian/node_modules/@babel/runtime/helpers/builtin/es6/typeof\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.promise\";\nexport var helper = {\n  prepareObjectToSend: function prepareObjectToSend(request_data) {\n    // return JSON.stringify(request_data).replace(/\\\\n/g, \"\\\\n\")\n    //   .replace(/\\\\'/g, \"\\\\'\")\n    //   .replace(/\\\\\"/g, '\\\\\"')\n    //   .replace(/\\\\&/g, \"\\\\&\")\n    //   .replace(/\\\\r/g, \"\\\\r\")\n    //   .replace(/\\\\t/g, \"\\\\t\")\n    //   .replace(/\\\\b/g, \"\\\\b\")\n    //   .replace(/\\\\f/g, \"\\\\f\");\n    // return this.JSON_to_URLEncoded(request_data)\n    return request_data;\n  },\n  hasAccessPermission: function hasAccessPermission(permission) {\n    var user = JSON.parse(localStorage.getItem('auth_data'));\n\n    if (permission == 'ALLOW_ALL') {\n      return true;\n    } else if (user.permissions.includes(permission)) {\n      return true;\n    } else {\n      return false;\n    } // if (user.permissions.includes(permission)) return true;\n\n  },\n  deleteMulti: function deleteMulti(ids, collection) {\n    return _.dropWhile(collection, function (n) {\n      return _.includes(ids, n.id);\n    });\n  },\n  getTranslatedData: function getTranslatedData(model) {\n    var l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'ar';\n\n    var lang = _.map(model.details, function (o) {\n      if (o.lang == l) return o;\n    });\n\n    lang = _.without(lang, undefined);\n    return lang[0];\n  },\n  JSON_to_URLEncoded: function (_JSON_to_URLEncoded) {\n    function JSON_to_URLEncoded(_x, _x2, _x3) {\n      return _JSON_to_URLEncoded.apply(this, arguments);\n    }\n\n    JSON_to_URLEncoded.toString = function () {\n      return _JSON_to_URLEncoded.toString();\n    };\n\n    return JSON_to_URLEncoded;\n  }(function (element, key, list) {\n    var list = list || [];\n\n    if (_typeof(element) == 'object') {\n      for (var idx in element) {\n        JSON_to_URLEncoded(element[idx], key ? key + '[' + idx + ']' : idx, list);\n      }\n    } else {\n      list.push(key + '=' + encodeURIComponent(element));\n    }\n\n    return list.join('&');\n  }),\n  showMessage: function showMessage(type, vm) {\n    var message = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    vm.$vs.notify({\n      icon: 'icon-alert-circle',\n      iconPack: 'feather',\n      horizontalAlign: 'center',\n      verticalAlign: 'top',\n      title: \"\".concat(type == 'success' ? vm.$ml.get('success') : vm.$ml.get('error')),\n      text: \"\".concat(type == 'success' ? vm.$ml.get('success_msg') + message : vm.$ml.get('error_msg') + message),\n      color: type\n    });\n  },\n  validationGroupingData: function validationGroupingData(xs, key) {\n    return xs.reduce(function (rv, x) {\n      (rv[x[key]] = rv[x[key]] || []).push(x);\n      return rv;\n    }, {});\n  },\n  addErrors: function addErrors(inputs, errors) {\n    for (var input in inputs) {\n      try {\n        // console.log(input)\n        document.getElementById(input + '_error').innerText = ' ';\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    var _arr = Object.entries(errors);\n\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var _arr$_i = _slicedToArray(_arr[_i], 2),\n          key = _arr$_i[0],\n          value = _arr$_i[1];\n\n      try {\n        // console.log(key)\n        $(\"#\".concat(key, \"_error\")).text(value[0]);\n        document.getElementById(key + '_error').innerText = value[0];\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  },\n  handleError: function handleError(error, vm) {\n    // request error cause of offline using\n    if (!navigator.onLine) return;\n\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      if (error.response.status == 422) {\n        // let validations = window.helper.validationGroupingData(error.response.data.data, 'param');\n        var validations = error.response.data.data.validation_errors;\n\n        try {\n          window.helper.addErrors(vm.dataModel, validations);\n        } catch (e) {}\n\n        return;\n      }\n\n      if (error.response.status == 401) {\n        vm.$router.push({\n          name: 'login'\n        });\n        return;\n      }\n\n      if (error.response.status == 403) {\n        vm.$router.push({\n          name: 'pageError403'\n        });\n        return;\n      }\n\n      vm.$vs.notify({\n        icon: \"ti-info\",\n        horizontalAlign: 'center',\n        verticalAlign: 'top',\n        title: \"Server Error Code : \".concat(error.response.status),\n        message: \"\".concat(error.response.data.message),\n        type: 'danger'\n      }); // console.log(error.response.data, error.response.status, error.response.headers);\n    } else if (error.request) {\n      // The request was made but no response was received\n      vm.$vs.notify({\n        icon: \"ti-info\",\n        horizontalAlign: 'center',\n        verticalAlign: 'top',\n        title: \"\".concat(vm.$ml.get('error')),\n        message: \"No Response From Server\",\n        type: 'danger'\n      }); // console.log(error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      vm.$vs.notify({\n        icon: \"ti-info\",\n        horizontalAlign: 'center',\n        verticalAlign: 'top',\n        title: \"\".concat(vm.$ml.get('error')),\n        message: error.message,\n        type: 'danger'\n      }); // console.log('Error', error.message);\n    }\n  }\n};",{"version":3,"sources":["/home/muhammadawd/WebstormProjects/Guardian/src/bootstrap/helper.js"],"names":["helper","prepareObjectToSend","request_data","hasAccessPermission","permission","user","JSON","parse","localStorage","getItem","permissions","includes","deleteMulti","ids","collection","_","dropWhile","n","id","getTranslatedData","model","l","lang","map","details","o","without","undefined","JSON_to_URLEncoded","element","key","list","idx","push","encodeURIComponent","join","showMessage","type","vm","message","$vs","notify","icon","iconPack","horizontalAlign","verticalAlign","title","$ml","get","text","color","validationGroupingData","xs","reduce","rv","x","addErrors","inputs","errors","input","document","getElementById","innerText","e","console","log","Object","entries","value","$","handleError","error","navigator","onLine","response","status","validations","data","validation_errors","window","dataModel","$router","name","request"],"mappings":"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","sourcesContent":["export const helper = {\n  prepareObjectToSend: (request_data) => {\n    // return JSON.stringify(request_data).replace(/\\\\n/g, \"\\\\n\")\n    //   .replace(/\\\\'/g, \"\\\\'\")\n    //   .replace(/\\\\\"/g, '\\\\\"')\n    //   .replace(/\\\\&/g, \"\\\\&\")\n    //   .replace(/\\\\r/g, \"\\\\r\")\n    //   .replace(/\\\\t/g, \"\\\\t\")\n    //   .replace(/\\\\b/g, \"\\\\b\")\n    //   .replace(/\\\\f/g, \"\\\\f\");\n    // return this.JSON_to_URLEncoded(request_data)\n    return request_data;\n  },\n  hasAccessPermission: (permission) => {\n    let user = JSON.parse(localStorage.getItem('auth_data'));\n    if (permission == 'ALLOW_ALL') {\n      return true\n    } else if (user.permissions.includes(permission)) {\n\n      return true;\n    } else {\n\n      return false;\n    }\n    // if (user.permissions.includes(permission)) return true;\n  },\n  deleteMulti(ids, collection) {\n    return _.dropWhile(collection, function (n) {\n      return _.includes(ids, n.id);\n    });\n  },\n  getTranslatedData(model, l = 'ar') {\n    let lang = _.map(model.details, function (o) {\n      if (o.lang == l) return o;\n    });\n    lang = _.without(lang, undefined);\n    return lang[0];\n  },\n  JSON_to_URLEncoded(element, key, list) {\n    var list = list || [];\n    if (typeof (element) == 'object') {\n      for (var idx in element)\n        JSON_to_URLEncoded(element[idx], key ? key + '[' + idx + ']' : idx, list);\n    } else {\n      list.push(key + '=' + encodeURIComponent(element));\n    }\n    return list.join('&');\n  },\n  showMessage: (type, vm, message = '') => {\n    vm.$vs.notify({\n      icon: 'icon-alert-circle',\n      iconPack: 'feather',\n      horizontalAlign: 'center',\n      verticalAlign: 'top',\n      title: `${type == 'success' ? vm.$ml.get('success') : vm.$ml.get('error')}`,\n      text: `${type == 'success' ? vm.$ml.get('success_msg') + message : vm.$ml.get('error_msg') + message}`,\n      color: type\n    });\n  },\n  validationGroupingData: (xs, key) => {\n    return xs.reduce(function (rv, x) {\n      (rv[x[key]] = rv[x[key]] || []).push(x);\n      return rv;\n    }, {});\n  },\n  addErrors: (inputs, errors) => {\n    for (let input in inputs) {\n      try {\n        // console.log(input)\n        document.getElementById(input + '_error').innerText = ' ';\n      } catch (e) {\n\n        console.log(e)\n      }\n    }\n    for (const [key, value] of Object.entries(errors)) {\n      try {\n        // console.log(key)\n        $(`#${key}_error`).text(value[0]);\n        document.getElementById(key + '_error').innerText = value[0];\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  },\n  handleError: (error, vm) => {\n    // request error cause of offline using\n    if (!navigator.onLine) return;\n\n    if (error.response) {\n      // The request was made and the server responded with a status code\n\n      if (error.response.status == 422) {\n        // let validations = window.helper.validationGroupingData(error.response.data.data, 'param');\n        let validations = error.response.data.data.validation_errors;\n        try {\n          window.helper.addErrors(vm.dataModel, validations);\n        } catch (e) {\n\n        }\n        return;\n      }\n      if (error.response.status == 401) {\n        vm.$router.push({name: 'login'})\n        return;\n      }\n\n      if (error.response.status == 403) {\n        vm.$router.push({name: 'pageError403'})\n        return;\n      }\n\n      vm.$vs.notify({\n        icon: \"ti-info\",\n        horizontalAlign: 'center',\n        verticalAlign: 'top',\n        title: `Server Error Code : ${error.response.status}`,\n        message: `${error.response.data.message}`,\n        type: 'danger'\n      });\n      // console.log(error.response.data, error.response.status, error.response.headers);\n    } else if (error.request) {\n      // The request was made but no response was received\n      vm.$vs.notify({\n        icon: \"ti-info\",\n        horizontalAlign: 'center',\n        verticalAlign: 'top',\n        title: `${vm.$ml.get('error')}`,\n        message: `No Response From Server`,\n        type: 'danger'\n      });\n      // console.log(error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      vm.$vs.notify({\n        icon: \"ti-info\",\n        horizontalAlign: 'center',\n        verticalAlign: 'top',\n        title: `${vm.$ml.get('error')}`,\n        message: error.message,\n        type: 'danger'\n      });\n      // console.log('Error', error.message);\n    }\n  }\n}\n"]}]}